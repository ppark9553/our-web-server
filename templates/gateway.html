{% load static %}
<!doctype html>
<html lang="kr">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
        <title>Buzzz Gateway</title>
        <link rel="icon" href="{% static 'img/buzzz.ico' %}" type="image/x-icon" />
        <!-- Font Awesome -->
        <link rel="stylesheet" href="{% static 'vendor/fontawesome-free-5.0.13/web-fonts-with-css/css/fontawesome-all.min.css' %}" type="text/css" media="all">
        <!-- jQuery -->
        <script type="text/javascript" src="{% static 'vendor/jquery-3.3.1.min.js' %}"></script>
        <!-- jQuery Sparkline -->
        <script type="text/javascript" src="{% static 'vendor/jquery.sparkline.min.js' %}"></script>
        <!-- Custom -->
        <link rel="stylesheet" href="{% static 'css/gateway.css' %}" type="text/css" media="all">
        <!-- Highcharts -->
        <script src="{% static 'vendor/highstock-6.1.0/code/highstock.js' %}" charset="utf-8"></script>
        <script src="{% static 'vendor/highstock-6.1.0/code/highcharts-more.js' %}" charset="utf-8"></script>

        <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic|Ubuntu" rel="stylesheet">
    </head>

    <body>

      <!-- Navbar -->
      <div class="navigation">
        <div class="navbar-logo">
          buzzz
        </div>
        <div class="navbar-menu">
          login
        </div>
      </div>

      <!-- Content Body -->
      <div class="content-body">

        <div class="section date-selector">
          date
        </div>

        <div class="section task-list">
          task
        </div>

        <div class="section task-actions">
          actions
        </div>

      </div>

      <!-- Footer -->
      <div class="footer">
        Footer
      </div>


      <!-- Websocket with Socket.io -->
      <script src="{% static 'js/socket.io.js' %}"></script>
      <script type="text/javascript" src="{% static 'js/gateway.js' %}"></script>
      <script>
        // socket.io code here
        WEB_SOCKET_SWF_LOCATION = 'inc/WebSocketMain.swf'
        // ip address should be that of gateway server
        var socket = io.connect('http://149.28.25.177:3000')

        socket.on('connected', function(data) {
          if (data.connected == true) {
            console.log('buzzz webpage ready to load with changes in DB')
          }
          socket.emit('ready for data', {})
        })

        socket.on('update', function(data) {
          console.log(data.message.payload)
        })

        // jquery code here
        $(document).ready(function() {
          webpageStarting()
        })

      </script>
    </body>

</html>
